# Railway deployment configuration
[build]
builder = "nixpacks"

[deploy]
startCommand = "npm start"
healthcheckPath = "/api/health"
healthcheckTimeout = 300
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

[env]
NODE_ENV = "production"
PORT = "5000"

# Database
MONGODB_URI = "${{MONGO_URL}}"

# Redis
REDIS_URL = "${{REDIS_URL}}"

# JWT Secret
JWT_SECRET = "${{JWT_SECRET}}"

# Optional AI Services
OPENAI_API_KEY = "${{OPENAI_API_KEY}}"
ANTHROPIC_API_KEY = "${{ANTHROPIC_API_KEY}}"

# Email Configuration
SMTP_HOST = "${{SMTP_HOST}}"
SMTP_PORT = "${{SMTP_PORT}}"
SMTP_USER = "${{SMTP_USER}}"
SMTP_PASS = "${{SMTP_PASS}}"

# Payment Configuration
STRIPE_SECRET_KEY = "${{STRIPE_SECRET_KEY}}"
STRIPE_PUBLISHABLE_KEY = "${{STRIPE_PUBLISHABLE_KEY}}"

